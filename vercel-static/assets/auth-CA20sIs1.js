import{q as T,r as x,j as e,y as L,H as k,ag as S,ae as D,u as C,ah as f,T as F,C as I,f as q,g as M,M as R,d as A,I as i,B as g}from"./index-DCOvJKlU.js";import{T as P,a as E,b as j,c as N}from"./tabs-WuRWSCi2.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var _="Label",y=x.forwardRef((t,a)=>e.jsx(L.label,{...t,ref:a,onMouseDown:s=>{var o;s.target.closest("button, input, select, textarea")||((o=t.onMouseDown)==null||o.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));y.displayName=_;var v=y;const B=S("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=x.forwardRef(({className:t,...a},s)=>e.jsx(v,{ref:s,className:k(B(),t),...a}));l.displayName=v.displayName;function V(){const[,t]=D(),{toast:a}=C(),[s,n]=x.useState(!1),o=async d=>{d.preventDefault(),n(!0);const r=new FormData(d.currentTarget),c=r.get("email"),m=r.get("password");try{c==="demo@levelupsolo.net"&&m==="demo1234"?(localStorage.setItem("accessToken","demo_token"),localStorage.setItem("refreshToken","demo_refresh_token"),a({title:"登录成功",description:"欢迎回来！"}),t("/")):a({title:"登录失败",description:"请使用 demo@levelupsolo.net / demo1234 登录",variant:"destructive"})}catch{a({title:"错误",description:"网络错误，请稍后再试",variant:"destructive"})}finally{n(!1)}},w=async d=>{d.preventDefault(),n(!0);const r=new FormData(d.currentTarget),c=r.get("email"),m=r.get("password"),p=r.get("firstName"),b=r.get("lastName");try{const h=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:m,firstName:p,lastName:b})}),u=await h.json();h.ok?(localStorage.setItem("accessToken",u.accessToken),localStorage.setItem("refreshToken",u.refreshToken),a({title:"注册成功",description:"欢迎加入 LevelUp Solo！"}),t("/")):a({title:"注册失败",description:u.message||"请检查您的信息",variant:"destructive"})}catch{a({title:"错误",description:"网络错误，请稍后再试",variant:"destructive"})}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(f,{href:"/",children:e.jsxs("a",{className:"inline-flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"h-6 w-6 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"LevelUp Solo"})]})}),e.jsx("p",{className:"text-muted-foreground",children:"开始你的个人成长之旅"})]}),e.jsxs(I,{children:[e.jsxs(q,{children:[e.jsx(M,{children:"欢迎"}),e.jsx(R,{children:"登录或创建新账户"})]}),e.jsx(A,{children:e.jsxs(P,{defaultValue:"login",className:"w-full",children:[e.jsxs(E,{className:"grid w-full grid-cols-2",children:[e.jsx(j,{value:"login",children:"登录"}),e.jsx(j,{value:"register",children:"注册"})]}),e.jsx(N,{value:"login",children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"login-email",children:"邮箱"}),e.jsx(i,{id:"login-email",name:"email",type:"email",placeholder:"your@email.com",required:!0,disabled:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"login-password",children:"密码"}),e.jsx(i,{id:"login-password",name:"password",type:"password",placeholder:"••••••••",required:!0,disabled:s})]}),e.jsx(g,{type:"submit",className:"w-full",disabled:s,children:s?"登录中...":"登录"})]})}),e.jsx(N,{value:"register",children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"firstName",children:"名字"}),e.jsx(i,{id:"firstName",name:"firstName",placeholder:"名字",required:!0,disabled:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastName",children:"姓氏"}),e.jsx(i,{id:"lastName",name:"lastName",placeholder:"姓氏",required:!0,disabled:s})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"register-email",children:"邮箱"}),e.jsx(i,{id:"register-email",name:"email",type:"email",placeholder:"your@email.com",required:!0,disabled:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"register-password",children:"密码"}),e.jsx(i,{id:"register-password",name:"password",type:"password",placeholder:"至少8个字符",minLength:8,required:!0,disabled:s})]}),e.jsx(g,{type:"submit",className:"w-full",disabled:s,children:s?"注册中...":"注册"})]})})]})})]}),e.jsx("div",{className:"text-center",children:e.jsx(f,{href:"/landing",children:e.jsxs("a",{className:"text-sm text-muted-foreground hover:text-foreground inline-flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3"}),"返回首页"]})})})]})})}export{V as default};
